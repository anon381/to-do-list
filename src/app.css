:root {
	--bg: #f5f7fb;
	--bg-alt: #ffffff;
	--bg-gradient: radial-gradient(circle at 20% 20%, #eef2ff 0%, #f5f7fb 70%);
	--text: #1f2937;
	--text-soft: #6b7280;
	--border: #e5e7eb;
	--accent: #2563eb;
	--accent-hover: #1d4ed8;
	--danger: #dc2626;
	--danger-hover: #b91c1c;
	--radius-sm: 8px;
	--radius-md: 14px;
	--radius-lg: 24px;
	--shadow-sm: 0 2px 6px -1px rgba(0,0,0,.08);
	--shadow: 0 4px 24px -6px rgba(0,0,0,.12);
	--gradient-text: linear-gradient(90deg,#6366f1,#2563eb,#0ea5e9);
	--focus: 0 0 0 3px rgba(37,99,235,.35);
}

:root[data-theme='dark'] {
	--bg: #0f172a;
	--bg-alt: #1e293b;
	--bg-gradient: radial-gradient(circle at 20% 20%, #1e293b 0%, #0f172a 70%);
	--text: #f1f5f9;
	--text-soft: #94a3b8;
	--border: #334155;
	--accent: #3b82f6;
	--accent-hover: #2563eb;
	--danger: #f87171;
	--danger-hover: #ef4444;
	--gradient-text: linear-gradient(90deg,#818cf8,#3b82f6,#06b6d4);
	--shadow: 0 4px 28px -4px rgba(0,0,0,.55);
}

* { box-sizing: border-box; }
body { font-family: system-ui, Arial, sans-serif; margin:0; background: var(--bg-gradient); color: var(--text); -webkit-font-smoothing: antialiased; }

.app-shell { min-height:100dvh; display:flex; flex-direction:column; }
.app-container { width:100%; max-width:860px; margin: clamp(16px,5vh,56px) auto 24px; background: var(--bg-alt); padding: clamp(20px,4vw,44px) clamp(20px,4vw,56px) 56px; border-radius: var(--radius-lg); box-shadow: var(--shadow); position:relative; overflow:hidden; backdrop-filter: blur(4px); }
.app-container::before { content:""; position:absolute; inset:0; background: radial-gradient(circle at 80% 10%, rgba(99,102,241,.25), transparent 60%); pointer-events:none; }
.app-header { display:flex; justify-content:space-between; align-items:center; gap:24px; flex-wrap:wrap; margin-bottom:24px; }
.title-wrap { display:flex; align-items:center; gap:14px; }
.gradient-text { background: var(--gradient-text); -webkit-background-clip:text; background-clip:text; color:transparent; font-size: clamp(1.9rem, 4vw, 2.8rem); line-height:1.1; margin:0; font-weight:700; letter-spacing:.5px; }
.count-chip { background: var(--accent); color:#fff; padding:4px 10px 5px; font-size:.85rem; border-radius: 999px; font-weight:600; box-shadow: var(--shadow-sm); }
.theme-toggle { background: var(--bg); border:1px solid var(--border); width:44px; height:44px; display:grid; place-items:center; font-size:1.25rem; border-radius: 14px; cursor:pointer; transition: background .25s, border-color .25s, transform .25s; }
.theme-toggle:hover { background: var(--accent); color:#fff; border-color: var(--accent); transform: translateY(-2px); }
.theme-toggle:active { transform: translateY(0); }
.header-actions { display:flex; align-items:center; gap:10px; }
.user-chip { background: var(--bg); border:1px solid var(--border); padding:6px 12px; border-radius:999px; font-size:.8rem; font-weight:600; letter-spacing:.5px; }
.logout-btn { background: var(--danger); color:#fff; border:none; padding:10px 16px; border-radius: var(--radius-md); cursor:pointer; font-weight:600; font-size:.75rem; letter-spacing:.5px; }
.logout-btn:hover { background: var(--danger-hover); }

h1 { margin-top:0; }

.todo-input-form { display:flex; gap:10px; align-items:center; position:relative; }
.todo-input-form input { flex:1; padding:14px 16px; border:1px solid var(--border); background: var(--bg); border-radius: var(--radius-md); font-size:1rem; outline:none; transition:border-color .2s, background .2s, box-shadow .2s; }
.todo-input-form input:focus { border-color: var(--accent); box-shadow: var(--focus); }
.todo-input-form button { padding:13px 24px; border:none; background: var(--accent); color:#fff; border-radius: var(--radius-md); cursor:pointer; font-weight:600; letter-spacing:.5px; font-size:.95rem; display:inline-flex; align-items:center; gap:6px; position:relative; overflow:hidden; }
.todo-input-form button::before { content:""; position:absolute; inset:0; background: linear-gradient(120deg,rgba(255,255,255,.4),transparent 40%); opacity:0; transition:opacity .4s; }
.todo-input-form button:hover::before { opacity:1; }
.todo-input-form button:hover { background: var(--accent-hover); }

.todo-list { list-style:none; padding:0; margin:28px 0 12px; display:grid; gap:12px; }
@media (min-width: 660px) { .todo-list { gap:14px; } }
.todo-list li { display:flex; align-items:center; justify-content:space-between; background: var(--bg); padding:14px 18px 14px 16px; border:1px solid var(--border); border-radius: 18px; position:relative; isolation:isolate; overflow:hidden; }
.todo-list li::before { content:""; position:absolute; inset:0; background: linear-gradient(90deg,rgba(99,102,241,.16),transparent); opacity:0; transition:opacity .35s; pointer-events:none; }
.todo-list li:hover::before { opacity:1; }
.todo-list li.done { background: linear-gradient(90deg, rgba(14,165,233,.15), rgba(14,165,233,.05)); border-color: rgba(14,165,233,.35); color: var(--text); }
.todo-list li.done span { text-decoration:line-through; opacity:.7; }
.todo-list li label { display:flex; align-items:center; gap:14px; flex:1; cursor:pointer; font-size: clamp(.92rem, 1.9vw, 1.02rem); font-weight:500; }
.todo-list li input[type=checkbox] { width:20px; height:20px; accent-color: var(--accent); cursor:pointer; }
.todo-list li button.delete { background:transparent; border:1px solid var(--border); color: var(--danger); font-size:18px; cursor:pointer; padding:6px 8px; border-radius:14px; display:grid; place-items:center; transition: background .3s, color .3s, border-color .3s; }
.todo-list li button.delete:hover { background: var(--danger); color:#fff; border-color: var(--danger); }
.empty { margin:32px 0 8px; color: var(--text-soft); font-style:italic; text-align:center; }
.clear-btn { margin-top:4px; background: linear-gradient(90deg,#f43f5e,#e11d48); color:#fff; border:none; padding:14px 24px; border-radius: var(--radius-md); cursor:pointer; font-weight:600; font-size:.95rem; letter-spacing:.5px; box-shadow: var(--shadow-sm); position:relative; overflow:hidden; }
.clear-btn::after { content:""; position:absolute; inset:0; background: linear-gradient(120deg,rgba(255,255,255,.5),transparent 42%); opacity:0; transition: opacity .4s; }
.clear-btn:hover::after { opacity:1; }
.clear-btn:hover { filter: brightness(1.05); }
.app-footer { text-align:center; font-size:.75rem; padding:24px 12px 40px; color: var(--text-soft); }

.auth-panel { margin-top:12px; }
.auth-form { display:flex; flex-direction:column; gap:16px; background: var(--bg); border:1px solid var(--border); padding:28px 30px 34px; border-radius: var(--radius-lg); box-shadow: var(--shadow-sm); }
.auth-form h2 { margin:0 0 4px; font-size:1.4rem; letter-spacing:.5px; }
.auth-form label { display:flex; flex-direction:column; gap:4px; font-size:.8rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; color: var(--text-soft); }
.auth-form input { padding:12px 14px; border:1px solid var(--border); background: var(--bg-alt); border-radius: var(--radius-md); outline:none; font-size:.95rem; }
.auth-form input:focus { border-color: var(--accent); box-shadow: var(--focus); }
.auth-form button[type=submit] { margin-top:4px; background: var(--accent); color:#fff; border:none; padding:12px 20px; border-radius: var(--radius-md); cursor:pointer; font-weight:600; letter-spacing:.5px; font-size:.9rem; }
.auth-form button[type=submit]:hover { background: var(--accent-hover); }
.auth-form .link-btn { background:transparent; border:none; color: var(--accent); cursor:pointer; font-size:.75rem; font-weight:600; letter-spacing:.4px; text-decoration:underline; padding:4px 4px 0; align-self:flex-start; }
.auth-form .link-btn:hover { color: var(--accent-hover); }
.error-msg { background: linear-gradient(90deg,#f87171,#ef4444); color:#fff; padding:8px 12px; border-radius: var(--radius-sm); font-size:.75rem; font-weight:600; letter-spacing:.5px; }
.error-banner { margin-top:4px; background:linear-gradient(90deg,#f43f5e,#e11d48); color:#fff; padding:10px 14px; border-radius: var(--radius-md); font-size:.8rem; font-weight:600; display:flex; align-items:center; justify-content:space-between; gap:12px; box-shadow: var(--shadow-sm); }
.error-banner .dismiss { background:rgba(255,255,255,.15); color:#fff; border:none; cursor:pointer; font-size:.9rem; padding:4px 8px; border-radius: var(--radius-sm); }
.error-banner .dismiss:hover { background:rgba(255,255,255,.25); }

@media (max-width: 760px) {
	.app-container { padding:32px 26px 48px; }
	.todo-input-form { flex-direction:column; align-items:stretch; }
	.todo-input-form button { width:100%; }
	.theme-toggle { width:42px; height:42px; }
}

@media (max-width: 480px) {
	.app-container { border-radius: 0; margin:0; max-width:none; box-shadow:none; min-height:100dvh; }
	.app-footer { padding-bottom: 60px; }
}

@media (prefers-reduced-motion: reduce) {
	* { animation-duration:.001ms !important; animation-iteration-count:1 !important; transition-duration:.001ms !important; }
}
